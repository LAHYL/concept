```mermaid
graph TD

  %% ==== User ====
  User["ðŸ§‘â€ðŸ’» ãƒ¦ãƒ¼ã‚¶ãƒ¼"]
  User -->|ã‚¢ã‚¯ã‚»ã‚¹| CF

  %% ==== Frontend ====
  subgraph ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
    CF["ðŸŒ Cloudflare (CDN)"]
    Pages["ðŸ“„ Cloudflare Pages (SSR)"]
    Framework["ðŸ§± Next.js / Nuxt"]
    CF --> Pages
    Pages --> Framework
  end

  %% ==== Backend ====
  subgraph ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
    CloudRun["â˜ï¸ Cloud Run"]
    CSharp["ðŸ’» C# (API)"]
    Framework -->|API Request| CloudRun
    CloudRun --> CSharp
    CSharp -->|"Search / Prompt"| ESNode
  end

  %% ==== Elasticsearch on VPS ====
  ESNode["ðŸ–¥ï¸ Conoha VPS (Elasticsearch)"]

  %% ==== Storage ====
  subgraph ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
    R2["ðŸ—‚ï¸ Cloudflare R2"]
  end

  %% ==== AI ====
  subgraph AI
    ConohaAI["ðŸ§  Conoha VPS (AI)"]
    SD["ðŸŽ¨ Stable Diffusion"]
    Python["ðŸ Python"]
    ESNode -->|Prompt| Python
    ConohaAI --> SD
    SD --> Python
    Python -->|Upload| R2
  end

  %% CDN - R2 Cache
  CF -->|CDN Cache| R2
```
